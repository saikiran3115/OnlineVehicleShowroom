<div class="container mt-5 mb-5">

  <div class="row">

      <div class="col-lg-6" *ngIf="menuData">
          <a routerLink="../../menu" class="btn btn-sm btn-dark mb-3 ">Back</a>
          <img src="{{menuData[0].vehicleImg}}" width="100%"/>
          <h1 class="mt-3">{{menuData[0].vehicleName}}</h1>
          <h1 class="mt-3">{{menuData[0].vehicleModel}}</h1>
      </div>

      <div class="col-lg-6 col-12">
        <br>
        <br>
        <h1>Details of the Car</h1>
        <br>
      <p>{{menuData[0].vehicleDetails}}</p>
      <div class="container" style="padding-top:60px;">
        <div class="row">
          <div class="col-md-10 mx-auto">
            <div class="card-group">
              <div class="card p-4">
                <div class="card-body">
                  <h1 style="text-align:center">Test Drive</h1>
                  <form #testdriveForm="ngForm" (ngSubmit)="onSubmit(testdriveForm)">

                    <!-- CustomerName -->
              <div class="mb-2">
                <label>Customer Name</label>
                <input type="text" class="form-control" name="customerName" [(ngModel)]="model.customerName" #name="ngModel"
                  autocomplete="off" required minlength="3" [ngClass]="{'is-invalid':testdriveForm.submitted && name.invalid}">
              </div>

              <!-- Validation -->
              <div *ngIf="testdriveForm.submitted || (name.touched && name.invalid)">
                <div class="text-danger" *ngIf="name.errors?.['required']">customer Name is required</div>
                <div class="text-danger" *ngIf="name.errors?.['minlength']">customer Name should be minimum 3 characters</div>
              </div>

              <!-- Email -->
              <div class="mb-2">
                <label>Email</label>
                <input type="email" class="form-control" name="email" [(ngModel)]="model.email" #email="ngModel"
                  autocomplete="off" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" [ngClass]="{'is-invalid':testdriveForm.submitted && email.invalid}">
              </div>

              <!-- Validation -->
              <div *ngIf="testdriveForm.submitted || (email.touched && email.invalid)">
                <div class="text-danger" *ngIf="email.errors?.['required']">Email is required</div>
                <div class="text-danger" *ngIf="email.errors?.['pattern']">Invalid Email</div>
              </div>

                    <!-- Password -->
                    <div class="mb-2">
                      <label>Password</label>
                      <input type="password" class="form-control" name="password" [(ngModel)]="model.password" #password="ngModel"
                        autocomplete="off" required pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,30})" [ngClass]="{'is-invalid':testdriveForm.submitted && password.invalid}">
                    </div>

                    <!-- Validation -->
                    <div *ngIf="testdriveForm.submitted || (password.touched && password.invalid)">
                      <div class="text-danger" *ngIf="password.errors?.['required']">password is required</div>
                      <div class="text-danger" *ngIf="password.errors?.['pattern']">Invalid password</div>
                    </div>

                    <!-- choose Showroom -->
              <div class="mb-2">
                <label>Choose Showroom</label>
                <select class="form-select" name="showroom" [(ngModel)]="model.showroom" required #showroom="ngModel">
                  <option disabled selected value="">Please select</option>
                  <option *ngFor="let showroom of showrooms" [ngValue]="showroom"> {{showroom}} </option>
                </select>
              </div>

              <!-- Validation -->
              <div *ngIf="testdriveForm.submitted ||(showroom.touched && showroom.invalid)">
                <div class="text-danger" *ngIf="showroom.errors?.['required']">Choosing Showroom is required</div>
              </div>


                    <!-- button -->
                    <div class="mb-2">
                      <button type="submit" class="btn btn-outline-dark">Get Test Drive</button>
                    </div>

                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
